<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学生写作评分系统 - 增强版</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #f8f1e5;
            min-height: 100vh;
            padding: 20px;
            background-image: linear-gradient(to bottom, #fef4f4, #f8f1e5);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background-color: #a50303;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(165, 3, 3, 0.3);
            overflow: hidden;
            border: 8px solid #8a0000;
            position: relative;
        }
        
        .container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, #ffd700, #ffed4e, #ffd700);
            z-index: 10;
        }
        
        /* 头部样式 */
        .header {
            background: linear-gradient(to right, #8a0000, #a50303, #8a0000);
            padding: 30px 20px;
            text-align: center;
            border-bottom: 4px solid #ffd700;
            position: relative;
        }
        
        .header h1 {
            color: #ffed4e;
            font-size: 3.2rem;
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.5);
            letter-spacing: 3px;
            margin-bottom: 10px;
            font-weight: bold;
            font-family: 'KaiTi', 'STKaiti', serif;
            position: relative;
            display: inline-block;
        }
        
        .header h1::before, .header h1::after {
            content: "✍";
            color: #ffed4e;
            margin: 0 15px;
            font-size: 2.8rem;
        }
        
        .subtitle {
            color: #fff;
            font-size: 1.2rem;
            letter-spacing: 1px;
            margin-top: 10px;
        }
        
        /* 导航标签 */
        .tabs {
            display: flex;
            background-color: #8a0000;
            border-bottom: 3px solid #ffd700;
        }
        
        .tab-btn {
            flex: 1;
            padding: 18px 10px;
            background-color: transparent;
            color: #ffcc80;
            border: none;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }
        
        .tab-btn:last-child {
            border-right: none;
        }
        
        .tab-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        .tab-btn.active {
            background-color: #a50303;
            color: #ffed4e;
        }
        
        .tab-btn.active::after {
            content: "";
            position: absolute;
            bottom: -3px;
            left: 0;
            right: 0;
            height: 3px;
            background-color: #ffed4e;
        }
        
        /* 主要内容区域 */
        .main-content {
            padding: 30px;
            min-height: 600px;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* 通用卡片样式 */
        .card {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            border: 3px solid #ffd700;
            margin-bottom: 30px;
        }
        
        .card h2 {
            color: #a50303;
            font-size: 1.8rem;
            margin-bottom: 25px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 2px solid #ffd700;
            font-family: 'KaiTi', 'STKaiti', serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card h2 i {
            margin-right: 10px;
        }
        
        /* 评分录入页样式 */
        .input-section {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .input-form {
            flex: 1;
            min-width: 300px;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-group label {
            display: block;
            color: #8a0000;
            font-size: 1.2rem;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 15px;
            border: 2px solid #a50303;
            border-radius: 10px;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        
        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        
        .score-inputs {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .score-item {
            background-color: #fff9e6;
            padding: 15px;
            border-radius: 10px;
            border-left: 5px solid #a50303;
        }
        
        .score-item h3 {
            color: #8a0000;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }
        
        .score-item input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1rem;
            text-align: center;
        }
        
        /* 按钮样式 */
        .btn-submit {
            background: linear-gradient(to bottom, #a50303, #8a0000);
            color: white;
            border: none;
            padding: 18px;
            width: 100%;
            border-radius: 10px;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
            letter-spacing: 1px;
            box-shadow: 0 5px 15px rgba(165, 3, 3, 0.4);
        }
        
        .btn-submit:hover {
            background: linear-gradient(to bottom, #8a0000, #660000);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(165, 3, 3, 0.6);
        }
        
        .btn-submit:active {
            transform: translateY(0);
        }
        
        /* 评分标准区域 */
        .criteria-section {
            flex: 1.5;
            min-width: 300px;
        }
        
        .criteria-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .criteria-card {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-top: 6px solid;
            transition: transform 0.3s;
        }
        
        .criteria-card:hover {
            transform: translateY(-5px);
        }
        
        .card-content {
            border-left: 1px solid #a50303;
            border-bottom: 1px solid #a50303;
            padding-left: 15px;
            padding-bottom: 15px;
        }
        
        .criteria-card:nth-child(1) {
            border-top-color: #a50303;
        }
        
        .criteria-card:nth-child(2) {
            border-top-color: #d32f2f;
        }
        
        .criteria-card:nth-child(3) {
            border-top-color: #f57c00;
        }
        
        .criteria-card h3 {
            color: #8a0000;
            font-size: 1.5rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .criteria-card h3 i {
            margin-right: 10px;
            font-size: 1.3rem;
        }
        
        .criteria-card ul {
            list-style-type: none;
        }
        
        .criteria-card li {
            padding: 8px 0;
            color: #333;
            border-bottom: 1px dashed #eee;
            display: flex;
            align-items: center;
        }
        
        .criteria-card li:last-child {
            border-bottom: none;
        }
        
        .criteria-card li i {
            color: #a50303;
            margin-right: 10px;
            font-size: 0.9rem;
        }
        
        .score-total {
            font-size: 1.8rem;
            font-weight: bold;
            color: #a50303;
            text-align: right;
            margin-top: 15px;
        }
        
        /* 总分计算显示 */
        .total-display {
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background-color: #fff9e6;
            border-radius: 10px;
            border: 2px dashed #a50303;
        }
        
        .total-score-display {
            font-size: 2.5rem;
            font-weight: bold;
            color: #a50303;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        /* 教师管理页面样式 */
        .teacher-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 12px 15px 12px 45px;
            border: 2px solid #a50303;
            border-radius: 10px;
            font-size: 1rem;
        }
        
        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #a50303;
            font-size: 1.2rem;
        }
        
        .filter-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background-color: white;
            color: #a50303;
            border: 2px solid #a50303;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .filter-btn:hover {
            background-color: #a50303;
            color: white;
        }
        
        .filter-btn.active {
            background-color: #a50303;
            color: white;
        }
        
        /* 表格样式 */
        .results-table {
            overflow-x: auto;
            margin-top: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        thead {
            background-color: #a50303;
            color: white;
        }
        
        th {
            padding: 18px 15px;
            text-align: left;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        tbody tr {
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }
        
        tbody tr:hover {
            background-color: #fff9e6;
        }
        
        tbody tr:nth-child(even) {
            background-color: #fef4f4;
        }
        
        tbody tr:nth-child(even):hover {
            background-color: #fff9e6;
        }
        
        td {
            padding: 18px 15px;
            color: #333;
        }
        
        .student-id {
            font-weight: bold;
            color: #8a0000;
        }
        
        .total-score {
            font-weight: bold;
            font-size: 1.2rem;
            color: #a50303;
            text-align: center;
        }
        
        .medal {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-right: 8px;
            text-align: center;
            line-height: 24px;
            font-size: 0.9rem;
            font-weight: bold;
            color: white;
        }
        
        .gold {
            background-color: #ffd700;
        }
        
        .silver {
            background-color: #c0c0c0;
        }
        
        .bronze {
            background-color: #cd7f32;
        }
        
        .rank {
            font-weight: bold;
            color: #a50303;
            text-align: center;
        }
        
        /* 作品目录页面样式 */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 20px;
        }
        
        .category-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
            border: 3px solid #ffd700;
        }
        
        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .category-header {
            background: linear-gradient(to right, #8a0000, #a50303);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .category-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .category-title {
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-family: 'KaiTi', 'STKaiti', serif;
        }
        
        .category-desc {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .category-content {
            padding: 25px;
        }
        
        .category-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #a50303;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .category-works {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .work-item {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .work-item:last-child {
            border-bottom: none;
        }
        
        .work-item:hover {
            background-color: #fff9e6;
        }
        
        .work-title {
            font-weight: bold;
            color: #333;
        }
        
        .work-author {
            color: #a50303;
            font-size: 0.9rem;
        }
        
        .work-score {
            background-color: #a50303;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        
        .view-btn {
            background-color: #ffd700;
            color: #8a0000;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
            width: 100%;
        }
        
        .view-btn:hover {
            background-color: #ffed4e;
            transform: translateY(-2px);
        }
        
        /* 作品评分详情页面样式 */
        .work-detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #ffd700;
        }
        
        .work-info {
            flex: 1;
        }
        
        .work-title-large {
            font-size: 2.2rem;
            color: #8a0000;
            margin-bottom: 10px;
            font-family: 'KaiTi', 'STKaiti', serif;
        }
        
        .work-meta {
            display: flex;
            gap: 20px;
            color: #666;
            font-size: 1.1rem;
        }
        
        .work-meta span {
            display: flex;
            align-items: center;
        }
        
        .work-meta i {
            margin-right: 8px;
            color: #a50303;
        }
        
        .work-score-large {
            background: linear-gradient(to right, #a50303, #8a0000);
            color: white;
            padding: 20px 30px;
            border-radius: 15px;
            text-align: center;
            min-width: 180px;
        }
        
        .score-number {
            font-size: 3.5rem;
            font-weight: bold;
            line-height: 1;
        }
        
        .score-label {
            font-size: 1.2rem;
            margin-top: 5px;
        }
        
        .score-details {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        
        .score-detail-card {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border-top: 6px solid;
        }
        
        .score-detail-card:nth-child(1) {
            border-top-color: #a50303;
        }
        
        .score-detail-card:nth-child(2) {
            border-top-color: #d32f2f;
        }
        
        .score-detail-card:nth-child(3) {
            border-top-color: #f57c00;
        }
        
        .score-detail-title {
            font-size: 1.5rem;
            color: #8a0000;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .score-detail-score {
            font-size: 2rem;
            font-weight: bold;
            color: #a50303;
        }
        
        .criteria-list {
            list-style-type: none;
        }
        
        .criteria-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px dashed #eee;
        }
        
        .criteria-item:last-child {
            border-bottom: none;
        }
        
        .criteria-name {
            color: #333;
        }
        
        .criteria-points {
            font-weight: bold;
            color: #a50303;
        }
        
        .teacher-comments {
            margin-top: 30px;
            padding: 25px;
            background-color: #fff9e6;
            border-radius: 12px;
            border-left: 5px solid #a50303;
        }
        
        .teacher-comments h3 {
            color: #8a0000;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .teacher-comments h3 i {
            margin-right: 10px;
        }
        
        .comments-text {
            line-height: 1.6;
            color: #333;
        }

        /* 历史人物介绍样式 */
        .figure-intro {
            background-color: #fff9e6;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 4px solid #8a0000;
        }
        
        /* 底部样式 */
        .footer {
            background: linear-gradient(to right, #8a0000, #a50303, #8a0000);
            padding: 25px;
            text-align: center;
            color: #ffed4e;
            border-top: 4px solid #ffd700;
            font-size: 1rem;
            position: relative;
        }
        
        .footer::before {
            content: "";
            position: absolute;
            top: -4px;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, transparent, #ffed4e, transparent);
        }
        
        /* 响应式设计 */
        @media (max-width: 992px) {
            .input-section {
                flex-direction: column;
            }
            
            .criteria-grid {
                grid-template-columns: 1fr;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .work-detail-header {
                flex-direction: column;
                gap: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab-btn {
                min-width: 50%;
            }
            
            .score-inputs {
                grid-template-columns: 1fr;
            }
            
            .teacher-controls {
                flex-direction: column;
            }
            
            .work-meta {
                flex-direction: column;
                gap: 10px;
            }
            
            .score-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <div class="header">
            <h1>学生写作评分系统 - 增强版</h1>
            <p class="subtitle">教师管理 · 作品分组 · 评分详情</p>
        </div>
        
        <!-- 导航标签 -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="scoring">
                <i class="fas fa-edit"></i> 评分录入
            </button>
            <button class="tab-btn" data-tab="teacher">
                <i class="fas fa-chalkboard-teacher"></i> 教师管理
            </button>
            <button class="tab-btn" data-tab="catalog">
                <i class="fas fa-book"></i> 作品目录
            </button>
            <button class="tab-btn" data-tab="details">
                <i class="fas fa-chart-bar"></i> 评分详情
            </button>
        </div>
        
        <!-- 主要内容区域 -->
        <div class="main-content">
            <!-- 评分录入页面 -->
            <div class="tab-content active" id="scoring">
                <div class="card">
                    <h2><i class="fas fa-edit"></i> 评分录入</h2>
                    <div class="input-section">
                        <div class="input-form">
                            <div class="input-group">
                                <label for="studentId"><i class="fas fa-id-card"></i> 学号</label>
                                <input type="text" id="studentId" placeholder="请输入学生学号">
                            </div>
                            
                            <div class="input-group">
                                <label for="studentName"><i class="fas fa-user"></i> 学生姓名</label>
                                <input type="text" id="studentName" placeholder="请输入学生姓名">
                            </div>
                            
                            <div class="input-group">
                                <label for="workCategory"><i class="fas fa-folder"></i> 作品分组</label>
                                <select id="workCategory">
                                    <option value="qiu">瞿秋白组</option>
                                    <option value="yi">赵一曼组</option>
                                    <option value="min">林觉民组</option>
                                    <option value="shi">吴石组</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label for="workTitle"><i class="fas fa-heading"></i> 作品标题</label>
                                <input type="text" id="workTitle" placeholder="请输入作品标题">
                            </div>
                            
                            <h3>评分项目</h3>
                            <div class="score-inputs">
                                <div class="score-item">
                                    <h3>内容 (30分)</h3>
                                    <input type="number" id="contentScore" min="0" max="30" placeholder="0-30" value="0">
                                </div>
                                <div class="score-item">
                                    <h3>语言 (50分)</h3>
                                    <input type="number" id="languageScore" min="0" max="50" placeholder="0-50" value="0">
                                </div>
                                <div class="score-item">
                                    <h3>主题 (20分)</h3>
                                    <input type="number" id="themeScore" min="0" max="20" placeholder="0-20" value="0">
                                </div>
                                <div class="score-item">
                                    <h3>总分 (100分)</h3>
                                    <div class="total-display">
                                        <div class="total-score-display" id="totalScore">0</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <label for="teacherComments"><i class="fas fa-comment"></i> 评语</label>
                                <textarea id="teacherComments" placeholder="请输入评语..." rows="4" style="width:100%; padding:15px; border:2px solid #a50303; border-radius:10px; font-size:1.1rem;"></textarea>
                            </div>
                            
                            <button class="btn-submit" id="submitBtn">
                                <i class="fas fa-paper-plane"></i> 提交评分
                            </button>
                        </div>
                        
                        <div class="criteria-section">
                            <h2><i class="fas fa-clipboard-list"></i> 评分标准</h2>
                            <div class="criteria-grid">
                                <div class="criteria-card">
                                    <h3><i class="fas fa-book-open"></i> 内容 (30分)</h3>
                                    <div class="card-content">
                                        <ul>
                                            <li><i class="fas fa-check-circle"></i> 选材恰当 (10分)</li>
                                            <li><i class="fas fa-check-circle"></i> 细节丰富 (10分)</li>
                                            <li><i class="fas fa-check-circle"></i> 情节连贯 (10分)</li>
                                        </ul>
                                        <div class="score-total">总分: 30分</div>
                                    </div>
                                </div>
                                
                                <div class="criteria-card">
                                    <h3><i class="fas fa-language"></i> 语言 (50分)</h3>
                                    <div class="card-content">
                                        <ul>
                                            <li><i class="fas fa-check-circle"></i> 生动形象 (20分)</li>
                                            <li><i class="fas fa-check-circle"></i> 简洁凝练 (15分)</li>
                                            <li><i class="fas fa-check-circle"></i> 节奏韵律 (15分)</li>
                                        </ul>
                                        <div class="score-total">总分: 50分</div>
                                    </div>
                                </div>
                                
                                <div class="criteria-card">
                                    <h3><i class="fas fa-bullseye"></i> 主题 (20分)</h3>
                                    <div class="card-content">
                                        <ul>
                                            <li><i class="fas fa-check-circle"></i> 鲜明突出 (8分)</li>
                                            <li><i class="fas fa-check-circle"></i> 思想深刻 (7分)</li>
                                            <li><i class="fas fa-check-circle"></i> 时代共鸣 (5分)</li>
                                        </ul>
                                        <div class="score-total">总分: 20分</div>
                                    </div>
                                </div>
                            </div>
                            <!-- 历史人物分组介绍 -->
                            <div class="figure-intro">
                                <div class="figure-name">分组说明：</div>
                                <div class="figure-bio">
                                    本系统以四位革命历史人物命名分组，旨在通过作品创作弘扬革命精神，传承红色基因：
                                    <ul style="margin-top: 10px; padding-left: 20px;">
                                        <li><strong>瞿秋白组</strong>：革命文学先驱，注重思想深度与文学性</li>
                                        <li><strong>赵一曼组</strong>：抗日民族英雄，突出革命精神与爱国主义</li>
                                        <li><strong>林觉民组</strong>：黄花岗烈士，强调家国情怀与牺牲精神</li>
                                        <li><strong>吴石组</strong>：隐蔽战线英雄，体现忠诚信仰与智慧勇气</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 教师管理页面 -->
            <div class="tab-content" id="teacher">
                <div class="card">
                    <h2><i class="fas fa-chalkboard-teacher"></i> 教师管理 - 学生评分查看</h2>
                    
                    <div class="teacher-controls">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="teacherSearch" placeholder="搜索学号、姓名或作品标题...">
                        </div>
                        
                        <div class="filter-options">
                            <button class="filter-btn active" data-filter="all">全部作品</button>
                            <button class="filter-btn" data-filter="qiu">瞿秋白组</button>
                            <button class="filter-btn" data-filter="yi">赵一曼组</button>
                            <button class="filter-btn" data-filter="min">林觉民组</button>
                            <button class="filter-btn" data-filter="shi">吴石组</button>
                        </div>
                    </div>
                    
                    <div class="results-table">
                        <table id="teacherTable">
                            <thead>
                                <tr>
                                    <th width="8%">排名</th>
                                    <th width="12%">学号</th>
                                    <th width="15%">姓名</th>
                                    <th width="20%">作品标题</th>
                                    <th width="15%">分组</th>
                                    <th width="10%">内容</th>
                                    <th width="10%">语言</th>
                                    <th width="10%">主题</th>
                                    <th width="10%">总分</th>
                                </tr>
                            </thead>
                            <tbody id="teacherTableBody">
                                <!-- 数据将通过JavaScript动态生成 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- 作品目录页面 -->
            <div class="tab-content" id="catalog">
                <div class="card">
                    <h2><i class="fas fa-book"></i> 作品目录</h2>
                    <p style="text-align:center; margin-bottom:20px; color:#666;">按四个组别查看所有参赛作品</p>
                    
                    <div class="categories-grid">
                        <!-- 瞿秋白组 -->
                        <div class="category-card">
                            <div class="category-header qiu">
                                <div class="category-icon">
                                    <i class="fas fa-pen-nib"></i>
                                </div>
                                <h3 class="category-title">瞿秋白组</h3>
                                <p class="category-desc">革命文学先驱，思想深度与文学性</p>
                            </div>
                            <div class="category-content">
                                <div class="category-stats">
                                    <div class="stat-item">
                                        <div class="stat-value" id="qiu-count">8</div>
                                        <div class="stat-label">作品数量</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="qiu-avg">86.2</div>
                                        <div class="stat-label">平均分</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="qiu-high">94</div>
                                        <div class="stat-label">最高分</div>
                                    </div>
                                </div>
                                
                                <div class="category-works">
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《赤都心史》</div>
                                            <div class="work-author">2023001 李小明</div>
                                        </div>
                                        <div class="work-score">92</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《新文化的曙光》</div>
                                            <div class="work-author">2023007 王小红</div>
                                        </div>
                                        <div class="work-score">88</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《多余的话》读后感</div>
                                            <div class="work-author">2023012 张伟</div>
                                        </div>
                                        <div class="work-score">86</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《文学与革命》</div>
                                            <div class="work-author">2023005 赵敏</div>
                                        </div>
                                        <div class="work-score">85</div>
                                    </div>
                                </div>
                                
                                <div class="figure-intro">
                                    <div class="figure-name">瞿秋白 (1899-1935)</div>
                                    <div class="figure-bio">
                                        中国共产党早期主要领导人之一，伟大的马克思主义者，卓越的无产阶级革命家、理论家和宣传家，中国革命文学事业的重要奠基者。
                                    </div>
                                </div>
                                
                                <button class="view-btn" data-category="qiu">
                                    <i class="fas fa-eye"></i> 查看本组所有作品
                                </button>
                            </div>
                        </div>
                        
                        <!-- 赵一曼组 -->
                        <div class="category-card">
                            <div class="category-header yi">
                                <div class="category-icon">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <h3 class="category-title">赵一曼组</h3>
                                <p class="category-desc">抗日民族英雄，革命精神与爱国主义</p>
                            </div>
                            <div class="category-content">
                                <div class="category-stats">
                                    <div class="stat-item">
                                        <div class="stat-value" id="yi-count">9</div>
                                        <div class="stat-label">作品数量</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="yi-avg">84.5</div>
                                        <div class="stat-label">平均分</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="yi-high">91</div>
                                        <div class="stat-label">最高分</div>
                                    </div>
                                </div>
                                
                                <div class="category-works">
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《白山黑水间的英雄》</div>
                                            <div class="work-author">2023003 刘芳</div>
                                        </div>
                                        <div class="work-score">91</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《一封未寄出的家书》</div>
                                            <div class="work-author">2023015 陈晨</div>
                                        </div>
                                        <div class="work-score">87</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《铁骨柔情赵一曼》</div>
                                            <div class="work-author">2023009 孙悦</div>
                                        </div>
                                        <div class="work-score">84</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《永不凋零的丹心》</div>
                                            <div class="work-author">2023018 周涛</div>
                                        </div>
                                        <div class="work-score">81</div>
                                    </div>
                                </div>
                                
                                <div class="figure-intro">
                                    <div class="figure-name">赵一曼 (1905-1936)</div>
                                    <div class="figure-bio">
                                        著名的抗日民族英雄，中国共产党优秀党员。曾任东北抗日联军第三军二团政委，在与日寇的斗争中被捕，英勇就义，展现了共产党员的坚定信仰和崇高气节。
                                    </div>
                                </div>
                                
                                <button class="view-btn" data-category="yi">
                                    <i class="fas fa-eye"></i> 查看本组所有作品
                                </button>
                            </div>
                        </div>
                        
                        <!-- 林觉民组 -->
                        <div class="category-card">
                            <div class="category-header min">
                                <div class="category-icon">
                                    <i class="fas fa-fist-raised"></i>
                                </div>
                                <h3 class="category-title">林觉民组</h3>
                                <p class="category-desc">黄花岗烈士，家国情怀与牺牲精神</p>
                            </div>
                            <div class="category-content">
                                <div class="category-stats">
                                    <div class="stat-item">
                                        <div class="stat-value" id="min-count">11</div>
                                        <div class="stat-label">作品数量</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="min-avg">82.8</div>
                                        <div class="stat-label">平均分</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="min-high">89</div>
                                        <div class="stat-label">最高分</div>
                                    </div>
                                </div>
                                
                                <div class="category-works">
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《与妻书》新解</div>
                                            <div class="work-author">2023002 王磊</div>
                                        </div>
                                        <div class="work-score">89</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《血色黄花岗》</div>
                                            <div class="work-author">2023011 吴婷</div>
                                        </div>
                                        <div class="work-score">85</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《家国两难全》</div>
                                            <div class="work-author">2023006 郑浩</div>
                                        </div>
                                        <div class="work-score">83</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《革命者的浪漫》</div>
                                            <div class="work-author">2023014 林芳</div>
                                        </div>
                                        <div class="work-score">80</div>
                                    </div>
                                </div>
                                
                                <div class="figure-intro">
                                    <div class="figure-name">林觉民 (1887-1911)</div>
                                    <div class="figure-bio">
                                        "黄花岗七十二烈士"之一，辛亥革命先驱。参加广州起义，受伤被俘，从容就义。起义前写给妻子的《与妻书》情真意切，字字血泪，被誉为"20世纪最伟大的情书"，体现了革命者舍小家为大家的崇高精神。
                                    </div>
                                </div>
                                
                                <button class="view-btn" data-category="min">
                                    <i class="fas fa-eye"></i> 查看本组所有作品
                                </button>
                            </div>
                        </div>
                        
                        <!-- 吴石组 -->
                        <div class="category-card">
                            <div class="category-header shi">
                                <div class="category-icon">
                                    <i class="fas fa-user-secret"></i>
                                </div>
                                <h3 class="category-title">吴石组</h3>
                                <p class="category-desc">隐蔽战线英雄，忠诚信仰与智慧勇气</p>
                            </div>
                            <div class="category-content">
                                <div class="category-stats">
                                    <div class="stat-item">
                                        <div class="stat-value" id="shi-count">10</div>
                                        <div class="stat-label">作品数量</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="shi-avg">83.2</div>
                                        <div class="stat-label">平均分</div>
                                    </div>
                                    <div class="stat-item">
                                        <div class="stat-value" id="shi-high">90</div>
                                        <div class="stat-label">最高分</div>
                                    </div>
                                </div>
                                
                                <div class="category-works">
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《潜伏者》</div>
                                            <div class="work-author">2023008 杨雪</div>
                                        </div>
                                        <div class="work-score">90</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《无名英雄吴石》</div>
                                            <div class="work-author">2023010 黄明</div>
                                        </div>
                                        <div class="work-score">86</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《暗战》</div>
                                            <div class="work-author">2023017 徐静</div>
                                        </div>
                                        <div class="work-score">84</div>
                                    </div>
                                    <div class="work-item">
                                        <div>
                                            <div class="work-title">《信仰的力量》</div>
                                            <div class="work-author">2023013 何强</div>
                                        </div>
                                        <div class="work-score">82</div>
                                    </div>
                                </div>
                                
                                <div class="figure-intro">
                                    <div class="figure-name">吴石 (1894-1950)</div>
                                    <div class="figure-bio">
                                        中国共产党在台湾隐蔽战线的杰出代表，为解放台湾、实现祖国统一做出了重要贡献。曾任国民党国防部参谋次长，在隐蔽战线为新中国提供重要情报，1950年因叛徒出卖在台湾就义，是"中共在台特工"的典型代表。
                                    </div>
                                </div>
                                
                                <button class="view-btn" data-category="shi">
                                    <i class="fas fa-eye"></i> 查看本组所有作品
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 评分详情页面 -->
            <div class="tab-content" id="details">
                <div class="card">
                    <h2><i class="fas fa-chart-bar"></i> 作品评分详情</h2>
                    <p style="text-align:center; margin-bottom:30px; color:#666;">选择作品查看详细的评分分析</p>
                    
                    <div class="work-detail-header">
                        <div class="work-info">
                            <h3 class="work-title-large" id="detailWorkTitle">《赤都心史》</h3>
                            <div class="work-meta">
                                <span><i class="fas fa-id-card"></i> 学号: <span id="detailStudentId">2023001</span></span>
                                <span><i class="fas fa-user"></i> 作者: <span id="detailStudentName">李小明</span></span>
                                <span><i class="fas fa-folder"></i> 分组: <span id="detailCategory">瞿秋白组</span></span>
                            </div>
                        </div>
                        <div class="work-score-large">
                            <div class="score-number" id="detailTotalScore">92</div>
                            <div class="score-label">总分 / 100</div>
                        </div>
                    </div>
                    
                    <div class="score-details">
                        <div class="score-detail-card">
                            <div class="score-detail-title">
                                <span>内容评分</span>
                                <span class="score-detail-score" id="detailContentScore">28</span>
                            </div>
                            <ul class="criteria-list">
                                <li class="criteria-item">
                                    <span class="criteria-name">选材恰当 (10分)</span>
                                    <span class="criteria-points" id="detailContent1">9</span>
                                </li>
                                <li class="criteria-item">
                                    <span class="criteria-name">细节丰富 (10分)</span>
                                    <span class="criteria-points" id="detailContent2">10</span>
                                </li>
                                <li class="criteria-item">
                                    <span class="criteria-name">情节连贯 (10分)</span>
                                    <span class="criteria-points" id="detailContent3">9</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="score-detail-card">
                            <div class="score-detail-title">
                                <span>语言评分</span>
                                <span class="score-detail-score" id="detailLanguageScore">46</span>
                            </div>
                            <ul class="criteria-list">
                                <li class="criteria-item">
                                    <span class="criteria-name">生动形象 (20分)</span>
                                    <span class="criteria-points" id="detailLanguage1">18</span>
                                </li>
                                <li class="criteria-item">
                                    <span class="criteria-name">简洁凝练 (15分)</span>
                                    <span class="criteria-points" id="detailLanguage2">14</span>
                                </li>
                                <li class="criteria-item">
                                    <span class="criteria-name">节奏韵律 (15分)</span>
                                    <span class="criteria-points" id="detailLanguage3">14</span>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="score-detail-card">
                            <div class="score-detail-title">
                                <span>主题评分</span>
                                <span class="score-detail-score" id="detailThemeScore">18</span>
                            </div>
                            <ul class="criteria-list">
                                <li class="criteria-item">
                                    <span class="criteria-name">鲜明突出 (8分)</span>
                                    <span class="criteria-points" id="detailTheme1">7</span>
                                </li>
                                <li class="criteria-item">
                                    <span class="criteria-name">思想深刻 (7分)</span>
                                    <span class="criteria-points" id="detailTheme2">6</span>
                                </li>
                                <li class="criteria-item">
                                    <span class="criteria-name">时代共鸣 (5分)</span>
                                    <span class="criteria-points" id="detailTheme3">5</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="teacher-comments">
                        <h3><i class="fas fa-comment-dots"></i> 教师评语</h3>
                        <div class="comments-text" id="detailComments">
                            这篇《赤都心史》以瞿秋白的革命经历为蓝本，生动再现了革命文学先驱的思想历程。选材恰当，紧扣瞿秋白组"革命文学与思想深度"的主题。细节描写丰富，特别是对瞿秋白在莫斯科生活、工作的场景刻画细致入微。情节连贯，从早期革命活动到英勇就义，脉络清晰。语言表达生动形象，富有文学感染力，节奏把握得当。主题鲜明突出，通过个人命运反映时代变迁，思想深刻，具有强烈的时代共鸣。是一篇优秀的革命历史题材作品，尤其在内容选材和语言表达上表现出色。
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px; text-align: center;">
                        <button class="btn-submit" id="prevWorkBtn" style="width: auto; padding: 12px 30px; margin-right: 15px;">
                            <i class="fas fa-arrow-left"></i> 上一篇作品
                        </button>
                        <button class="btn-submit" id="nextWorkBtn" style="width: auto; padding: 12px 30px;">
                            下一篇作品 <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 底部 -->
        <div class="footer">
            <p>© 2026 学生写作评分系统 - 历史人物分组版 | 丙午马年 传承红色基因</p>
            <p>评分标准：内容30分 + 语言50分 + 主题20分 = 总分100分 | 作品分组：瞿秋白组、赵一曼组、林觉民组、吴石组</p>
        </div>
    </div>

    <script>
        // 作品数据存储
        let works = [
            { 
                id: '2023001', 
                name: '李小明', 
                workTitle: '《赤都心史》', 
                category: 'qiu', 
                categoryName: '瞿秋白组',
                content: 28, 
                language: 46, 
                theme: 18, 
                total: 92,
                contentDetails: { material: 9, detail: 10, plot: 9 },
                languageDetails: { vivid: 18, concise: 14, rhythm: 14 },
                themeDetails: { prominent: 7, profound: 6, resonance: 5 },
                comments: '这篇《赤都心史》以瞿秋白的革命经历为蓝本，生动再现了革命文学先驱的思想历程。选材恰当，紧扣瞿秋白组"革命文学与思想深度"的主题。细节描写丰富，特别是对瞿秋白在莫斯科生活、工作的场景刻画细致入微。情节连贯，从早期革命活动到英勇就义，脉络清晰。语言表达生动形象，富有文学感染力，节奏把握得当。主题鲜明突出，通过个人命运反映时代变迁，思想深刻，具有强烈的时代共鸣。是一篇优秀的革命历史题材作品，尤其在内容选材和语言表达上表现出色。'
            },
            { 
                id: '2023005', 
                name: '赵敏', 
                workTitle: '《文学与革命》', 
                category: 'qiu', 
                categoryName: '瞿秋白组',
                content: 26, 
                language: 45, 
                theme: 17, 
                total: 88,
                contentDetails: { material: 9, detail: 9, plot: 8 },
                languageDetails: { vivid: 17, concise: 14, rhythm: 14 },
                themeDetails: { prominent: 7, profound: 6, resonance: 4 },
                comments: '《文学与革命》探讨了文学在革命运动中的作用，论点明确，论据充分。紧扣瞿秋白"革命文学"的主题，展现了作者对革命文学理论的深入理解。语言表达准确有力，逻辑清晰。'
            },
            { 
                id: '2023003', 
                name: '刘芳', 
                workTitle: '《白山黑水间的英雄》', 
                category: 'yi', 
                categoryName: '赵一曼组',
                content: 25, 
                language: 44, 
                theme: 16, 
                total: 85,
                contentDetails: { material: 8, detail: 9, plot: 8 },
                languageDetails: { vivid: 18, concise: 13, rhythm: 13 },
                themeDetails: { prominent: 6, profound: 5, resonance: 5 },
                comments: '作品以赵一曼的抗日事迹为素材，生动刻画了这位民族英雄的光辉形象。选材恰当，紧扣赵一曼组"革命精神与爱国主义"的主题。情感真挚，语言朴实有力，展现了革命者的坚定信仰和崇高气节。'
            },
            { 
                id: '2023007', 
                name: '王小红', 
                workTitle: '《新文化的曙光》', 
                category: 'qiu', 
                categoryName: '瞿秋白组',
                content: 24, 
                language: 42, 
                theme: 15, 
                total: 81,
                contentDetails: { material: 8, detail: 8, plot: 8 },
                languageDetails: { vivid: 16, concise: 13, rhythm: 13 },
                themeDetails: { prominent: 6, profound: 5, resonance: 4 },
                comments: '作品以新文化运动为背景，展现了瞿秋白在新文化传播中的重要作用。情节设计合理，语言流畅，但部分历史细节处理不够准确，可以进一步加强历史考证。'
            },
            { 
                id: '2023002', 
                name: '王磊', 
                workTitle: '《与妻书》新解', 
                category: 'min', 
                categoryName: '林觉民组',
                content: 22, 
                language: 40, 
                theme: 14, 
                total: 76,
                contentDetails: { material: 7, detail: 7, plot: 8 },
                languageDetails: { vivid: 15, concise: 13, rhythm: 12 },
                themeDetails: { prominent: 5, profound: 5, resonance: 4 },
                comments: '对林觉民《与妻书》的重新解读，角度新颖，体现了作者对革命者家国情怀的深刻理解。紧扣林觉民组"家国情怀与牺牲精神"的主题，但分析深度可以进一步加强。'
            },
            { 
                id: '2023008', 
                name: '杨雪', 
                workTitle: '《潜伏者》', 
                category: 'shi', 
                categoryName: '吴石组',
                content: 27, 
                language: 43, 
                theme: 17, 
                total: 87,
                contentDetails: { material: 9, detail: 9, plot: 9 },
                languageDetails: { vivid: 17, concise: 13, rhythm: 13 },
                themeDetails: { prominent: 7, profound: 6, resonance: 4 },
                comments: '《潜伏者》以吴石的隐蔽战线工作为题材，情节紧张刺激，悬念设置巧妙。紧扣吴石组"忠诚信仰与智慧勇气"的主题，展现了隐蔽战线英雄的智慧与勇气。描写细腻，人物形象鲜明。'
            },
            { 
                id: '2023015', 
                name: '陈晨', 
                workTitle: '《一封未寄出的家书》', 
                category: 'yi', 
                categoryName: '赵一曼组',
                content: 26, 
                language: 42, 
                theme: 16, 
                total: 84,
                contentDetails: { material: 9, detail: 9, plot: 8 },
                languageDetails: { vivid: 16, concise: 13, rhythm: 13 },
                themeDetails: { prominent: 7, profound: 5, resonance: 4 },
                comments: '以赵一曼给儿子的家书为切入点，情感真挚动人，展现了革命者作为母亲的柔情与作为战士的坚毅。语言朴实感人，主题鲜明，具有较强的感染力。'
            }
        ];
        
        // 当前在评分详情页查看的作品索引
        let currentDetailIndex = 0;
        
        // DOM元素
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        
        const studentIdInput = document.getElementById('studentId');
        const studentNameInput = document.getElementById('studentName');
        const workCategorySelect = document.getElementById('workCategory');
        const workTitleInput = document.getElementById('workTitle');
        const contentScoreInput = document.getElementById('contentScore');
        const languageScoreInput = document.getElementById('languageScore');
        const themeScoreInput = document.getElementById('themeScore');
        const teacherCommentsInput = document.getElementById('teacherComments');
        const totalScoreDisplay = document.getElementById('totalScore');
        const submitBtn = document.getElementById('submitBtn');
        
        const teacherSearchInput = document.getElementById('teacherSearch');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const teacherTableBody = document.getElementById('teacherTableBody');
        
        const viewButtons = document.querySelectorAll('.view-btn');
        const prevWorkBtn = document.getElementById('prevWorkBtn');
        const nextWorkBtn = document.getElementById('nextWorkBtn');
        
        // 评分详情页元素
        const detailWorkTitle = document.getElementById('detailWorkTitle');
        const detailStudentId = document.getElementById('detailStudentId');
        const detailStudentName = document.getElementById('detailStudentName');
        const detailCategory = document.getElementById('detailCategory');
        const detailTotalScore = document.getElementById('detailTotalScore');
        const detailContentScore = document.getElementById('detailContentScore');
        const detailLanguageScore = document.getElementById('detailLanguageScore');
        const detailThemeScore = document.getElementById('detailThemeScore');
        const detailComments = document.getElementById('detailComments');
        
        // 内容评分细节
        const detailContent1 = document.getElementById('detailContent1');
        const detailContent2 = document.getElementById('detailContent2');
        const detailContent3 = document.getElementById('detailContent3');
        
        // 语言评分细节
        const detailLanguage1 = document.getElementById('detailLanguage1');
        const detailLanguage2 = document.getElementById('detailLanguage2');
        const detailLanguage3 = document.getElementById('detailLanguage3');
        
        // 主题评分细节
        const detailTheme1 = document.getElementById('detailTheme1');
        const detailTheme2 = document.getElementById('detailTheme2');
        const detailTheme3 = document.getElementById('detailTheme3');
        
        // 标签切换功能
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                
                // 移除所有标签的active类
                tabButtons.forEach(btn => btn.classList.remove('active'));
                // 添加当前标签的active类
                this.classList.add('active');
                
                // 隐藏所有内容
                tabContents.forEach(content => content.classList.remove('active'));
                // 显示当前标签对应的内容
                document.getElementById(tabId).classList.add('active');
                
                // 如果切换到教师管理页面，更新表格
                if (tabId === 'teacher') {
                    renderTeacherTable();
                }
                
                // 如果切换到作品目录页面，更新统计数据
                if (tabId === 'catalog') {
                    updateCategoryStats();
                }
            });
        });
        
        // 计算总分并更新显示
        function updateTotalScore() {
            const content = parseInt(contentScoreInput.value) || 0;
            const language = parseInt(languageScoreInput.value) || 0;
            const theme = parseInt(themeScoreInput.value) || 0;
            const total = content + language + theme;
            totalScoreDisplay.textContent = total;
            
            // 验证分数范围
            if (content > 30) contentScoreInput.value = 30;
            if (language > 50) languageScoreInput.value = 50;
            if (theme > 20) themeScoreInput.value = 20;
        }
        
        // 输入事件监听
        contentScoreInput.addEventListener('input', updateTotalScore);
        languageScoreInput.addEventListener('input', updateTotalScore);
        themeScoreInput.addEventListener('input', updateTotalScore);
        
        // 提交评分
        submitBtn.addEventListener('click', function() {
            const id = studentIdInput.value.trim();
            const name = studentNameInput.value.trim();
            const category = workCategorySelect.value;
            const categoryName = workCategorySelect.options[workCategorySelect.selectedIndex].text;
            const workTitle = workTitleInput.value.trim();
            const content = parseInt(contentScoreInput.value) || 0;
            const language = parseInt(languageScoreInput.value) || 0;
            const theme = parseInt(themeScoreInput.value) || 0;
            const total = content + language + theme;
            const comments = teacherCommentsInput.value.trim();
            
            // 验证输入
            if (!id) {
                alert('请输入学号！');
                studentIdInput.focus();
                return;
            }
            
            if (!name) {
                alert('请输入学生姓名！');
                studentNameInput.focus();
                return;
            }
            
            if (!workTitle) {
                alert('请输入作品标题！');
                workTitleInput.focus();
                return;
            }
            
            if (content < 0 || content > 30) {
                alert('内容分数必须在0-30之间！');
                contentScoreInput.focus();
                return;
            }
            
            if (language < 0 || language > 50) {
                alert('语言分数必须在0-50之间！');
                languageScoreInput.focus();
                return;
            }
            
            if (theme < 0 || theme > 20) {
                alert('主题分数必须在0-20之间！');
                themeScoreInput.focus();
                return;
            }
            
            // 生成评分细节（随机生成，实际应用中应从评分项获取）
            const contentDetails = {
                material: Math.min(10, Math.floor(content * 0.33)),
                detail: Math.min(10, Math.floor(content * 0.33)),
                plot: Math.min(10, content - Math.floor(content * 0.33) - Math.floor(content * 0.33))
            };
            
            const languageDetails = {
                vivid: Math.min(20, Math.floor(language * 0.4)),
                concise: Math.min(15, Math.floor(language * 0.3)),
                rhythm: Math.min(15, language - Math.floor(language * 0.4) - Math.floor(language * 0.3))
            };
            
            const themeDetails = {
                prominent: Math.min(8, Math.floor(theme * 0.4)),
                profound: Math.min(7, Math.floor(theme * 0.35)),
                resonance: Math.min(5, theme - Math.floor(theme * 0.4) - Math.floor(theme * 0.35))
            };
            
            // 检查是否已存在该学号的作品
            const existingIndex = works.findIndex(work => work.id === id && work.workTitle === workTitle);
            
            if (existingIndex !== -1) {
                // 更新已有记录
                works[existingIndex] = { 
                    id, 
                    name, 
                    workTitle, 
                    category, 
                    categoryName,
                    content, 
                    language, 
                    theme, 
                    total,
                    contentDetails,
                    languageDetails,
                    themeDetails,
                    comments: comments || works[existingIndex].comments
                };
                alert(`学号 ${id} 的作品"${workTitle}"评分已更新！`);
            } else {
                // 添加新记录
                works.push({ 
                    id, 
                    name, 
                    workTitle, 
                    category, 
                    categoryName,
                    content, 
                    language, 
                    theme, 
                    total,
                    contentDetails,
                    languageDetails,
                    themeDetails,
                    comments: comments || "教师暂未填写评语。"
                });
                alert(`学号 ${id} 的作品"${workTitle}"评分已提交！`);
            }
            
            // 清空输入框
            studentIdInput.value = '';
            studentNameInput.value = '';
            workTitleInput.value = '';
            contentScoreInput.value = 0;
            languageScoreInput.value = 0;
            themeScoreInput.value = 0;
            teacherCommentsInput.value = '';
            updateTotalScore();
            
            // 更新统计数据
            updateCategoryStats();
        });
        
        // 渲染教师管理表格
        function renderTeacherTable(filter = 'all', searchTerm = '') {
            // 筛选和搜索
            let filteredWorks = works;
            
            if (filter !== 'all') {
                filteredWorks = filteredWorks.filter(work => work.category === filter);
            }
            
            if (searchTerm) {
                const term = searchTerm.toLowerCase();
                filteredWorks = filteredWorks.filter(work => 
                    work.id.toLowerCase().includes(term) || 
                    work.name.toLowerCase().includes(term) ||
                    work.workTitle.toLowerCase().includes(term)
                );
            }
            
            // 按总分排序
            filteredWorks.sort((a, b) => b.total - a.total);
            
            // 生成表格行
            let html = '';
            filteredWorks.forEach((work, index) => {
                let medalClass = '';
                if (index === 0) medalClass = 'gold';
                else if (index === 1) medalClass = 'silver';
                else if (index === 2) medalClass = 'bronze';
                
                html += `
                <tr>
                    <td class="rank">${medalClass ? `<span class="medal ${medalClass}">${index + 1}</span>` : index + 1}</td>
                    <td class="student-id">${work.id}</td>
                    <td>${work.name}</td>
                    <td>${work.workTitle}</td>
                    <td>${work.categoryName}</td>
                    <td>${work.content}</td>
                    <td>${work.language}</td>
                    <td>${work.theme}</td>
                    <td class="total-score">${work.total}</td>
                </tr>
                `;
            });
            
            teacherTableBody.innerHTML = html || `<tr><td colspan="9" style="text-align:center; padding:40px; color:#666;">暂无作品数据</td></tr>`;
        }
        
        // 更新作品目录统计数据
        function updateCategoryStats() {
            const categories = ['fiction', 'poetry', 'argumentative', 'narrative'];
            const categoryNames = {
                'fiction': '小说创作组',
                'poetry': '诗歌散文组',
                'argumentative': '议论文组',
                'narrative': '记叙文组'
            };
            
            categories.forEach(category => {
                const categoryWorks = works.filter(work => work.category === category);
                const count = categoryWorks.length;
                const totalScore = categoryWorks.reduce((sum, work) => sum + work.total, 0);
                const avg = count > 0 ? (totalScore / count).toFixed(1) : '0.0';
                const high = count > 0 ? Math.max(...categoryWorks.map(work => work.total)) : 0;
                
                document.getElementById(`${category}-count`).textContent = count;
                document.getElementById(`${category}-avg`).textContent = avg;
                document.getElementById(`${category}-high`).textContent = high;
            });
        }
        
        // 显示作品评分详情
        function showWorkDetail(index) {
            if (index < 0 || index >= works.length) return;
            
            const work = works[index];
            currentDetailIndex = index;
            
            detailWorkTitle.textContent = work.workTitle;
            detailStudentId.textContent = work.id;
            detailStudentName.textContent = work.name;
            detailCategory.textContent = work.categoryName;
            detailTotalScore.textContent = work.total;
            detailContentScore.textContent = work.content;
            detailLanguageScore.textContent = work.language;
            detailThemeScore.textContent = work.theme;
            detailComments.textContent = work.comments;
            
            // 更新评分细节
            detailContent1.textContent = work.contentDetails.material;
            detailContent2.textContent = work.contentDetails.detail;
            detailContent3.textContent = work.contentDetails.plot;
            
            detailLanguage1.textContent = work.languageDetails.vivid;
            detailLanguage2.textContent = work.languageDetails.concise;
            detailLanguage3.textContent = work.languageDetails.rhythm;
            
            detailTheme1.textContent = work.themeDetails.prominent;
            detailTheme2.textContent = work.themeDetails.profound;
            detailTheme3.textContent = work.themeDetails.resonance;
            
            // 更新导航按钮状态
            prevWorkBtn.disabled = index === 0;
            nextWorkBtn.disabled = index === works.length - 1;
        }
        
        // 搜索功能
        teacherSearchInput.addEventListener('input', function() {
            const filter = document.querySelector('.filter-btn.active').dataset.filter;
            renderTeacherTable(filter, this.value);
        });
        
        // 筛选功能
        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                // 移除其他按钮的active类
                filterButtons.forEach(btn => btn.classList.remove('active'));
                // 为当前按钮添加active类
                this.classList.add('active');
                
                const filter = this.dataset.filter;
                renderTeacherTable(filter, teacherSearchInput.value);
            });
        });
        
        // 查看分组作品
        viewButtons.forEach(button => {
            button.addEventListener('click', function() {
                const category = this.dataset.category;
                
                // 切换到教师管理页面
                tabButtons.forEach(btn => btn.classList.remove('active'));
                document.querySelector('[data-tab="teacher"]').classList.add('active');
                
                tabContents.forEach(content => content.classList.remove('active'));
                document.getElementById('teacher').classList.add('active');
                
                // 设置筛选
                filterButtons.forEach(btn => btn.classList.remove('active'));
                document.querySelector(`[data-filter="${category}"]`).classList.add('active');
                
                // 渲染表格
                renderTeacherTable(category, '');
            });
        });
        
        // 上一篇/下一篇作品
        prevWorkBtn.addEventListener('click', function() {
            if (currentDetailIndex > 0) {
                showWorkDetail(currentDetailIndex - 1);
            }
        });
        
        nextWorkBtn.addEventListener('click', function() {
            if (currentDetailIndex < works.length - 1) {
                showWorkDetail(currentDetailIndex + 1);
            }
        });
        
        // 初始化
        updateTotalScore();
        renderTeacherTable();
        updateCategoryStats();
        showWorkDetail(0);
    </script>
</body>
</html>